!function e(r,n,t){function o(c,a){if(!n[c]){if(!r[c]){var s="function"==typeof require&&require;if(!a&&s)return s(c,!0);if(i)return i(c,!0);throw new Error("Cannot find module '"+c+"'")}var u=n[c]={exports:{}};r[c][0].call(u.exports,function(e){var n=r[c][1][e];return o(n?n:e)},u,u.exports,e,r,n,t)}return n[c].exports}for(var i="function"==typeof require&&require,c=0;c<t.length;c++)o(t[c]);return o}({1:[function(e,r){function n(){return f[w.env]}function t(e,r){return d.buildUrl(n()+l,{client_id:w.app_id,response_type:e,state:w.csrf,scope:r,redirect_uri:w.redirect_uri})}function o(e){if(!e.app_id)throw new Error("The param 'app_id' is required.");e.env=e.env||"prod",e.csrf=""+Math.random(),w=e}function i(e){"function"==typeof e&&(e={callback:e}),s=e,s.popup_id=p.open(t(e.type||"token",e.scope||"basic"),{width:600,height:400,closed:c})}function c(){if(s){var e=s.popup_id,r=s.callback;s=void 0;var n,t=p.getWindow(e);if(n=t?d.parseUrlParams(t.location.hash||t.location.search):{state:w.csrf,error:"canceled",error_description:"The user closed the popup."},!n.state)throw new Error("Connect callback invoked, but 'state' is missing.");if(n.state!==w.csrf)throw new Error("Connect callback invoked, but 'state' doesn't match.");u=n.access_token||void 0,p.close(e),r&&r(n)}}function a(){u=void 0}var s,u,p=e("./Popup.js"),d=e("./Util.js"),f={prod:"//www.spreaker.com",beta:"//www.spreaker-beta.com",dev:"//www.dev-spreaker.com"},l="/oauth2/authorize",w={};r.exports={init:o,connect:i,connectCallback:c,disconnect:a}},{"./Popup.js":2,"./Util.js":3}],2:[function(e,r){function n(e){try{return!e||e.closed!==!1}catch(r){return!0}}function t(e){s[e].timer&&(clearInterval(s[e].timer),s[e].timer=void 0)}function o(e){s[e].timer=setInterval(function(){n(s[e].win)&&c(e)},100)}function i(e,r){var n=r.width||600,t=r.height||400,i=window.screenX+(window.outerWidth-n)/2,c=window.screenY+(window.outerHeight-t)/2,a=window.open(e,r.name||"","left="+i+",top="+c+",height="+t+",width="+n+",toolbar=no,scrollbars=yes"),p=u++;return s[p]={win:a,options:r},o(p),p}function c(e){if(s[e]){t(e),s[e].win&&!n(s[e].win)&&s[e].win.close();var r=s[e].options.closed;s[e]=void 0,r&&r()}}function a(e){return s[e]&&s[e].win}var s={},u=1;r.exports={open:i,close:c,getWindow:a}},{}],3:[function(e,r){r.exports={buildUrl:function(e,r){for(var n in r)r.hasOwnProperty(n)&&void 0!==r[n]&&(e+=(-1===e.indexOf("?")?"?":"&")+n+"="+encodeURIComponent(r[n]));return e},parseUrlParams:function(e){if(!e)return{};for(var r=e.replace(/^(\?|#)/,"").split("&"),n={},t=0;t<r.length;t++){var o=r[t].substring(0,r[t].indexOf("=")),i=decodeURIComponent(r[t].substring(r[t].indexOf("=")+1)).replace(/\+/g," ");o&&(n[o]=i)}return n}}},{}],4:[function(e){var r=e("./Auth.js");window.SP=r},{"./Auth.js":1}]},{},[4]);