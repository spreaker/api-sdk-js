!function e(n,r,t){function o(c,a){if(!r[c]){if(!n[c]){var s="function"==typeof require&&require;if(!a&&s)return s(c,!0);if(i)return i(c,!0);throw new Error("Cannot find module '"+c+"'")}var u=r[c]={exports:{}};n[c][0].call(u.exports,function(e){var r=n[c][1][e];return o(r?r:e)},u,u.exports,e,n,r,t)}return r[c].exports}for(var i="function"==typeof require&&require,c=0;c<t.length;c++)o(t[c]);return o}({1:[function(e,n){function r(){return f[w.env]}function t(e,n){return d.buildUrl(r()+l,{client_id:w.app_id,response_type:e,state:w.csrf,scope:n,redirect_uri:w.redirect_uri})}function o(e){if(!e.app_id)throw new Error("The param 'app_id' is required.");e.env=e.env||"prod",e.csrf=""+Math.random(),w=e,e.initialized&&e.initialized()}function i(e){"function"==typeof e&&(e={callback:e}),s=e,s.popup_id=p.open(t(e.type||"token",e.scope||"basic"),{width:600,height:400,closed:c})}function c(){if(s){var e=s.popup_id,n=s.callback;s=void 0;var r,t=p.getWindow(e);if(r=t?d.parseUrlParams(t.location.hash||t.location.search):{state:w.csrf,error:"canceled",error_description:"The user closed the popup."},!r.state)throw new Error("Connect callback invoked, but 'state' is missing.");if(r.state!==w.csrf)throw new Error("Connect callback invoked, but 'state' doesn't match.");u=r.access_token||void 0,p.close(e),n&&n(r)}}function a(){u=void 0}var s,u,p=e("./Popup.js"),d=e("./Util.js"),f={prod:"//www.spreaker.com",beta:"//www.spreaker-beta.com",dev:"//www.dev-spreaker.com"},l="/oauth2/authorize",w={};n.exports={init:o,connect:i,connectCallback:c,disconnect:a}},{"./Popup.js":2,"./Util.js":3}],2:[function(e,n){function r(e){try{return!e||e.closed!==!1}catch(n){return!0}}function t(e){s[e].timer&&(clearInterval(s[e].timer),s[e].timer=void 0)}function o(e){s[e].timer=setInterval(function(){r(s[e].win)&&c(e)},100)}function i(e,n){var r=n.width||600,t=n.height||400,i=window.screenX+(window.outerWidth-r)/2,c=window.screenY+(window.outerHeight-t)/2,a=window.open(e,n.name||"","left="+i+",top="+c+",height="+t+",width="+r+",toolbar=no,scrollbars=yes"),p=u++;return s[p]={win:a,options:n},o(p),p}function c(e){if(s[e]){t(e),s[e].win&&!r(s[e].win)&&s[e].win.close();var n=s[e].options.closed;s[e]=void 0,n&&n()}}function a(e){return s[e]&&s[e].win}var s={},u=1;n.exports={open:i,close:c,getWindow:a}},{}],3:[function(e,n){n.exports={buildUrl:function(e,n){for(var r in n)n.hasOwnProperty(r)&&void 0!==n[r]&&(e+=(-1===e.indexOf("?")?"?":"&")+r+"="+encodeURIComponent(n[r]));return e},parseUrlParams:function(e){if(!e)return{};for(var n=e.replace(/^(\?|#)/,"").split("&"),r={},t=0;t<n.length;t++){var o=n[t].substring(0,n[t].indexOf("=")),i=decodeURIComponent(n[t].substring(n[t].indexOf("=")+1)).replace(/\+/g," ");o&&(r[o]=i)}return r}}},{}],4:[function(e){var n=e("./Auth.js");if(window.SP=n,_sp)for(var r=0;r<_sp.length;r++){var t=_sp[r][0],o=_sp[r].splice(1);window.SP[t].apply(window.SP,o)}},{"./Auth.js":1}]},{},[4]);